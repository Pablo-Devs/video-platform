<%- include('partials/header'); -%>

    <div class="flex h-screen">

        <!-- Sidebar -->
        <div class="h-full bg-[#111111] text-white w-52 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out"
            id="sidebar">
            <!-- Navigation -->
            <nav class="absolute  lg:bottom-[40%] md:bottom-[70%] sm:bottom-[50%] bottom-[55%]">
                <a href="#" id="dashboard-link" data-page="dashboard-content"
                    class="block py-2.5 px-4 mb-4 rounded transition duration-200 hover:bg-gray-800 hover:text-white active flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#e8eaed" class="mr-2">
                        <path
                            d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z" />
                    </svg>
                    Dashboard
                </a>
                <a href="#" id="analytics-link" data-page="analytics-content"
                    class="block py-2.5 px-4 mb-4 rounded transition duration-200 hover:bg-gray-800 hover:text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#e8eaed" class="mr-2">
                        <path
                            d="M280-280h80v-280h-80v280Zm160 0h80v-400h-80v400Zm160 0h80v-160h-80v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z" />
                    </svg>
                    Analytics
                </a>
                <a href="#" id="content-link" data-page="content-content"
                    class="block py-2.5 px-4 mb-4 rounded transition duration-200 hover:bg-gray-800 hover:text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#e8eaed" class="mr-2">
                        <path
                            d="m460-380 280-180-280-180v360ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z" />
                    </svg>
                    Content
                </a>
                <a href="#" id="settings-link" data-page="settings-content"
                    class="block py-2.5 px-4 mb-4 rounded transition duration-200 hover:bg-gray-800 hover:text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#e8eaed" class="mr-2">
                        <path
                            d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z" />
                    </svg>
                    Settings
                </a>
            </nav>
        </div>

        <!-- Content Sections -->
        <div id="dashboard-content" class="flex-1 p-4 text-lg font-bold lg:mt-16 md:mt-16 mt-16">
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
                <!-- Card 1 -->
                <div
                    class="bg-[#111111] flex flex-col items-center justify-center shadow-lg rounded-lg p-6 border border-gray-700 lg:h-[450px] h-auto">
                    <img src="/creator1.jpg" alt="Paul Leonard" class="mb-2 w-20 h-20 md:w-28 md:h-28 rounded-full">
                    <p class="text-gray-400 text-sm mb-4">Want to see metrics on your recent video? Upload and publish a
                        video to get started.</p>
                    <button
                        class="bg-orange-500 text-white py-2 px-4 md:px-6 rounded-sm text-lg font-semibold shadow-lg hover:bg-orange-600 focus:outline-none"
                        id="upload-button">Upload Video</button>
                </div>
                <!-- Card 2 -->
                <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 lg:h-[400px] h-auto">
                    <h2 class="text-xl font-bold mb-4">Platform analytics</h2>
                    <p class="text-gray-300 text-sm mb-2">Current subscribers</p>
                    <h2 id="current-subscribers" class="text-gray-200 text-2xl font-bold mb-4">Loading</h2>
                    <hr class="border-b border-gray-700 mb-4">
                    <p class="text-gray-300 text-[1.2rem]">Summary</p>
                    <p class="text-gray-400 text-xs mb-4">All time</p>
                    <div class="flex justify-between items-center">
                        <p class="text-gray-300 text-sm mb-2">Views</p>
                        <h2 id="total-views" class="text-gray-200 text-sm font-bold mb-4">Loading</h2>
                    </div>
                    <div class="flex justify-between items-center">
                        <p class="text-gray-300 text-sm mb-2">Total watch time</p>
                        <h2 id="total-watch-time" class="text-gray-200 text-sm font-bold mb-4">Loading</h2>
                    </div>
                </div>
                <!-- Card 3 -->
                <div
                    class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 lg:h-[450px] h-auto lg:mb-0 md:mb-0 mb-6">
                    <h2 class="text-xl font-bold mb-8">Creator Insider</h2>
                    <div class="flex flex-col items-center justify-center">
                        <img src="/creator1.jpg" alt="Video-thumbnail" id="most-watched-video-thumbnail" class="mb-4">
                        <p class="text-gray-300 text-sm mb-2">This week most watched video</p>
                    </div>
                    <h2 id="most-watched-video-title" class="text-gray-200 text-lg font-bold mb-4">Loading</h2>
                    <p id="most-watched-video-description" class="text-gray-400 text-sm mb-8">Loading</p>
                    <a href="#" id="navigate-videos-link" class="text-xl text-sky-400">Navigate videos</a>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div id="uploadModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden">
            <div class="bg-[#111111] p-6 rounded-lg shadow-lg w-full max-w-md">
                <h2 class="text-xl font-bold mb-4 text-white">Upload Video</h2>
                <form id="uploadForm">
                    <div class="mb-4">
                        <label for="videoTitle" class="block text-gray-300 mb-2">Title</label>
                        <input type="text" id="videoTitle" name="title"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full" required>
                    </div>
                    <div class="mb-4">
                        <label for="videoDescription" class="block text-gray-300 mb-2">Description</label>
                        <textarea id="videoDescription" name="description"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full"
                            required></textarea>
                    </div>
                    <div class="mb-4">
                        <label for="videoFile" class="block text-gray-300 mb-2">Video File</label>
                        <input type="file" id="videoFile" name="video"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full" required>
                    </div>
                    <div class="mb-4 hidden" id="progressContainer">
                        <label class="block text-gray-300 mb-2">Uploading...</label>
                        <progress id="uploadProgress" value="0" max="100" class="w-full"></progress>
                    </div>
                    <div class="flex justify-end">
                        <button type="button" class="bg-gray-500 text-white py-2 px-4 rounded mr-2"
                            id="closeModalButton">Cancel</button>
                        <button type="submit"
                            class="bg-orange-500 text-white py-2 px-4 rounded hover:bg-orange-600 focus:outline-none"
                            id="submitUploadButton">Upload</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Alert Modal -->
        <div id="alertModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-10">
            <div class="bg-[#111111] p-6 rounded-lg shadow-lg w-full max-w-md">
                <h2 class="text-xl font-bold mb-4 text-white">Alert</h2>
                <p id="alertMessage" class="text-gray-300 mb-4"></p>
                <div class="flex justify-end">
                    <button type="button" class="bg-gray-500 text-white py-2 px-4 rounded"
                        id="closeAlertButton">Close</button>
                </div>
            </div>
        </div>

        <!-- Analytics Content -->
        <div id="analytics-content" class="flex-1 p-10 lg:mt-10 md:mt-10 mt-10 hidden">
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
                <!-- Overview Section -->
                <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 col-span-2 lg:col-span-3">
                    <h2 class="text-xl font-bold mb-4 text-white">Channel Overview</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-gray-800 p-4 rounded-lg flex flex-col items-center views">
                            <p class="text-gray-400 text-sm">Views</p>
                            <h2 class="text-gray-200 text-2xl font-bold">0</h2>
                        </div>
                        <div class="bg-gray-800 p-4 rounded-lg flex flex-col items-center watch-time">
                            <p class="text-gray-400 text-sm">Watch Time (hours)</p>
                            <h2 class="text-gray-200 text-2xl font-bold">0</h2>
                        </div>
                        <div class="bg-gray-800 p-4 rounded-lg flex flex-col items-center subscribers">
                            <p class="text-gray-400 text-sm">Subscribers</p>
                            <h2 class="text-gray-200 text-2xl font-bold">0</h2>
                        </div>
                        <div class="bg-gray-800 p-4 rounded-lg flex flex-col items-center total-videos">
                            <p class="text-gray-400 text-sm">Total Videos</p>
                            <h2 class="text-gray-200 text-2xl font-bold">0</h2>
                        </div>
                    </div>
                </div>

                <!-- Chart Section -->
                <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 col-span-2">
                    <h2 class="text-xl font-bold mb-4 text-white">Performance Over Time</h2>
                    <canvas id="performanceChart" class="w-full"></canvas>
                </div>

                <!-- Demographics Section -->
                <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 col-span-1 mb-4">
                    <h2 class="text-xl font-bold mb-4 text-white">Demographics</h2>
                    <canvas id="demographicsChart" class="w-full"></canvas>
                </div>
            </div>
        </div>

        <div id="content-content" class="flex-1 p-10 text-lg font-bold lg:mt-16 md:mt-16 mt-10 hidden">
            <h1 class="text-2xl font-bold mb-6">Content Section</h1>
            <div id="video-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Video cards will be appended here -->
            </div>
        </div>

        <!-- Progress Modal -->
        <div id="progress-modal"
            class="hidden fixed inset-0 items-center justify-center bg-gray-800 bg-opacity-75">
            <div class="bg-[#111111] p-6 rounded-lg shadow-lg">
                <div class="flex items-center space-x-2">
                    <div class="loader border-t-4 border-b-4 border-orange-500 w-8 h-8 rounded-full animate-spin"></div>
                    <span>Deleting video...</span>
                </div>
            </div>
        </div>

        <div id="settings-content" class="flex-1 p-10 text-lg font-bold lg:mt-16 md:mt-16 mt-10 hidden">
            <h1 class="text-2xl font-bold mb-6">Settings</h1>
            <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700 mb-6">
                <h2 class="text-xl font-bold mb-4">Account Details</h2>
                <div id="account-details" class="text-gray-300">
                    <% if (user) { %>
                        <div class="flex items-center justify-between">
                            <p>Username: <%= user.username %>
                            </p>
                            <p>Email: <%= user.email %>
                            </p>
                        </div>
                        <% } else { %>
                            <p class="text-red-500">User details not available.</p>
                            <% } %>
                </div>
            </div>
            <div class="bg-[#111111] shadow-lg rounded-lg p-6 border border-gray-700">
                <h2 class="text-xl font-bold mb-4">Reset Password</h2>
                <div id="password-reset-section">
                    <form id="otp-request-form">
                        <label for="email" class="text-gray-300 mb-2">Email:</label>
                        <input type="email" id="email" name="email"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full mb-4" required>
                        <button type="submit"
                            class="bg-orange-500 text-white py-2 px-4 rounded hover:bg-orange-600 focus:outline-none">Request
                            OTP</button>
                    </form>
                    <form id="password-reset-form" class="hidden">
                        <label for="otp" class="text-gray-300 mb-2">OTP:</label>
                        <input type="text" id="otp" name="otp"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full mb-4" required>
                        <label for="new-password" class="text-gray-300 mb-2">New Password:</label>
                        <input type="password" id="new-password" name="new-password"
                            class="bg-gray-800 text-white border border-gray-600 p-2 rounded w-full mb-4" required>
                        <button type="submit"
                            class="bg-orange-500 text-white py-2 px-4 rounded hover:bg-orange-600 focus:outline-none">Reset
                            Password</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Mobile button -->
        <div class="md:hidden flex items-center fixed bottom-4 right-4">
            <button class="text-white bg-orange-700 p-2 rounded-full focus:outline-none" id="mobile-menu-button">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7">
                    </path>
                </svg>
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/scripts/dashboard.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </body>

    </html>