<%- include('partials/header'); -%>

<form id="uploadForm" action="/upload-video" method="POST" enctype="multipart/form-data" class="max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Upload Video</h2>
    <label for="title" class="block mb-1">Title</label>
    <input id="title" type="text" name="title" required class="w-full border-gray-300 rounded-md px-4 py-2 mb-2 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500" />
    <div id="titleError" class="text-red-500"></div>
    <label for="description" class="block mb-1">Description</label>
    <textarea name="description" rows="4" class="w-full border-gray-300 rounded-md px-4 py-2 mb-2 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"></textarea>
    <label for="video" class="block mb-1">Select Video</label>
    <input id="video" type="file" name="video" accept="video/*" required class="w-full border-gray-300 rounded-md px-4 py-2 mb-2 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500" />
    <div id="videoError" class="text-red-500"></div>
    <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:bg-blue-600">Upload Video</button>
    <div id="submitError" class="text-red-500"></div>
</form>

<%- include('partials/footer'); -%>

<script>
    document.getElementById('uploadForm').addEventListener('submit', function(event) {
        const title = document.getElementById('title').value.trim();
        const video = document.getElementById('video').value.trim();

        // Validate title
        if (!title) {
            document.getElementById('titleError').innerText = 'Please enter a title';
            event.preventDefault(); // Prevent form submission
        } else {
            document.getElementById('titleError').innerText = '';
        }

        // Validate video file
        if (!video) {
            document.getElementById('videoError').innerText = 'Please select a video file';
            event.preventDefault(); // Prevent form submission
        } else {
            document.getElementById('videoError').innerText = '';
        }
    });
</script>
